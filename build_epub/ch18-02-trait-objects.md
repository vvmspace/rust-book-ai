## –¢—Ä–µ–π—Ç-–æ–±—ä–µ–∫—Ç—ã: –ö–æ–≥–¥–∞ –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ üì¶

–ü–æ–º–Ω–∏—Ç–µ, –∫–∞–∫ –º—ã –≥–æ—Ä–¥–∏–ª–∏—Å—å `Vec<T>`? –û–Ω –±—ã—Å—Ç—Ä—ã–π, –æ–Ω –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –æ–Ω... –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π.
–ï—Å–ª–∏ —É –≤–∞—Å `Vec<Button>`, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ `TextField`.

–ê —á—Ç–æ, –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–µ–Ω GUI, –≥–¥–µ –≤ –æ–¥–Ω–æ–º —Å–ø–∏—Å–∫–µ –ª–µ–∂–∞—Ç –∏ –ö–Ω–æ–ø–∫–∏, –∏ –ü–æ–ª—è, –∏ –°–ª–∞–π–¥–µ—Ä—ã?
–ù–∞ –ø–æ–º–æ—â—å –ø—Ä–∏—Ö–æ–¥—è—Ç **Trait Objects**.

### `dyn Trait`

```rust
pub struct Screen {
    pub components: Vec<Box<dyn Draw>>,
}
```

`dyn Draw` –æ–∑–Ω–∞—á–∞–µ—Ç "–ª—é–±–æ–π —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç—Ä–µ–π—Ç Draw".
–ú—ã –∫–ª–∞–¥–µ–º –∏—Ö –≤ `Box`, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–∑–º–µ—Ä—ã —Ç–∏–ø–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏, –∞ —É–∫–∞–∑–∞—Ç–µ–ª—å (Box) –≤—Å–µ–≥–¥–∞ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.

### Dynamic Dispatch

–ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ (`<T: Draw>`), –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ (Static Dispatch). –≠—Ç–æ –±—ã—Å—Ç—Ä–æ, –Ω–æ —Ä–∞–∑–¥—É–≤–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫.
–ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç—Ä–µ–π—Ç-–æ–±—ä–µ–∫—Ç—ã (`Box<dyn Draw>`), –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –∑–Ω–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞. –û–Ω –æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ vtable (—Ç–∞–±–ª–∏—Ü—É –º–µ—Ç–æ–¥–æ–≤). –í —Ä–∞–Ω—Ç–∞–π–º–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤ —Ç–∞–±–ª–∏—Ü—É –∏ –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥.
–≠—Ç–æ —á—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ (–Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã), –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≤ –æ–¥–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

### Duck Typing?

–ü–æ—á—Ç–∏.
–í Python: "–ï—Å–ª–∏ –æ–Ω–æ –∫—Ä—è–∫–∞–µ—Ç, —ç—Ç–æ —É—Ç–∫–∞".
–í Rust: "–ï—Å–ª–∏ –æ–Ω–æ `impl Quack`, –∏ –º—ã –ø–æ–ª–æ–∂–∏–ª–∏ –µ–≥–æ –≤ `Box<dyn Quack>`, —Ç–æ —ç—Ç–æ —É—Ç–∫–∞. –î–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –±—ã–ª —Å–æ–±–∞–∫–µ–Ω".

–≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –≥–∏–±–∫–∏–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ò–º –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å `BaseComponent`. –ò–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–µ–π—Ç `Draw`.

---

**–ê–Ω–µ–∫–¥–æ—Ç:**

> ‚Äî –ö–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –Ω–∞ Rust –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –Ω–∞ Java?  
> ‚Äî Java-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å–æ–∑–¥–∞–µ—Ç `AbstractFactoryBuilderBean`.  
> ‚Äî –ê Rust-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç?  
> ‚Äî –û–Ω —Å–æ–∑–¥–∞–µ—Ç `Box<dyn Trait>` –∏ –∏–¥–µ—Ç –ø–∏—Ç—å —Å–º—É–∑–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ –Ω–µ—Ç NullPointerException.
