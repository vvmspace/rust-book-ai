# Запуск тестов

`cargo test` компилирует ваш код в тестовом режиме и запускает полученный бинарник.

### Параллелизм

По умолчанию тесты бегут **параллельно** в разных потоках. Это быстро!
Но если ваши тесты лезут в один и тот же файл или базу данных — будет беда.
Чтобы запустить в один поток:
```bash
cargo test -- --test-threads=1
```

### Вывод (stdout)

По умолчанию, если тест прошел, Rust **проглатывает** весь `println!`. Вы увидите вывод только если тест упадет.
Хотите видеть всё?
```bash
cargo test -- --show-output
```

### Фильтрация

Запуск конкретного теста:
```bash
cargo test one_hundred
```
Запуск всех тестов, в имени которых есть "add":
```bash
cargo test add
```

### Игнорирование тестов

Если тест оооочень медленный:
```rust
#[test]
#[ignore]
fn expensive_test() {
    // код, который выполняется час
}
```
Он не будет запускаться по умолчанию.
Чтобы запустить *только* игнорируемые: `cargo test -- --ignored`.

---

**Анекдот:**

> — Сколько нужно потоков, чтобы запустить `cargo test`?  
> — По умолчанию столько, сколько у вас ядер.  
> — А сколько нужно, чтобы отдебажить гонку данных в тестах?  
> — `--test-threads=1`, и много кофе.
