# Разнесение модулей по разным файлам

Когда модуль становится толстым, его выгоняют из дома (родительского файла).

Было в `src/lib.rs`:
```rust
mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }
}
```

Стало:

`src/lib.rs`:
```rust
mod front_of_house; // Ищи код в src/front_of_house.rs
pub use crate::front_of_house::hosting;
```

`src/front_of_house.rs`:
```rust
pub mod hosting; // Ищи код в src/front_of_house/hosting.rs
```

`src/front_of_house/hosting.rs`:
```rust
pub fn add_to_waitlist() {}
```

Компилятор Rust смотрит на дерево файлов:

- `mod xxx;` в корне -> ищет `src/xxx.rs` (или `src/xxx/mod.rs` - старый стиль).
- `mod yyy;` внутри `xxx` -> ищет `src/xxx/yyy.rs`.

Главное правило: `mod` **объявляет** модуль, а файл **содержит** его тело. Не пишите `mod` внутри самого файла модуля (если только это не подмодуль).

Итог:
Вы стали архитектором кода. Вы знаете, как строить небоскребы из маленьких кирпичиков.
Дальше нас ждут Коллекции!

---

**Анекдот:**

> Однажды модуль решил съехать от родителей.
> Собрал вещи, переехал в отдельный файл.
> Но каждый раз, когда кто-то хотел к нему обратиться, ему приходилось звонить родителям (`lib.rs`), чтобы они подтвердили, что он существует (`mod my_son;`).
> Такова жизнь: даже в Rust ты не можешь просто исчезнуть без ведома `main.rs`.
