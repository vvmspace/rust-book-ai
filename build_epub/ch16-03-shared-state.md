## –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: `Mutex` üîí

–í Go –≥–æ–≤–æ—Ä—è—Ç: "–ù–µ –æ–±—â–∞–π—Ç–µ—Å—å, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—â—É—é –ø–∞–º—è—Ç—å. –û–±—â–∞–π—Ç–µ—Å—å, –ø–µ—Ä–µ–¥–∞–≤–∞—è —Å–æ–æ–±—â–µ–Ω–∏—è".
–í Rust –≥–æ–≤–æ—Ä—è—Ç: "–î–µ–ª–∞–π—Ç–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ, `Mutex<T>` –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∞—Å –∑–∞—Å—Ç–∞–≤–∏—Ç –¥–µ–ª–∞—Ç—å —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ".

### `Mutex<T>`: –í—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–º—É

–ú—å—é—Ç–µ–∫—Å (Mutual Exclusion) ‚Äî —ç—Ç–æ –∫–∞–∫ —Ç—É–∞–ª–µ—Ç –≤ –ø–æ–µ–∑–¥–µ.

1. –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å (`lock()`).
2. –ï—Å–ª–∏ –∑–∞–Ω—è—Ç–æ ‚Äî –∂–¥–µ—Ç–µ.
3. –ï—Å–ª–∏ —Å–≤–æ–±–æ–¥–Ω–æ ‚Äî –∑–∞—Ö–æ–¥–∏—Ç–µ –∏ –∑–∞–ø–∏—Ä–∞–µ—Ç–µ—Å—å (–ø–æ–ª—É—á–∞–µ—Ç–µ `MutexGuard`).
4. –î–µ–ª–∞–µ—Ç–µ —Å–≤–æ–∏ –¥–µ–ª–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤–Ω—É—Ç—Ä–∏ `MutexGuard`).
5. –ö–æ–≥–¥–∞ –≤—ã –≤—ã—Ö–æ–¥–∏—Ç–µ (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `guard` –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏), –∑–∞–º–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

```rust
use std::sync::Mutex;

let m = Mutex::new(5);

{
    let mut num = m.lock().unwrap();
    *num = 6;
} // m —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∑–¥–µ—Å—å
```

### `Arc<T>`: –ê—Ç–æ–º–∞—Ä–Ω—ã–π —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫

`Rc<T>` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ. –ï—Å–ª–∏ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–ø—ã—Ç–∞—é—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫, –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –≥–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö.
–ü–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ–º `Arc<T>` (Atomic Reference Counted). –û–Ω –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ (–∏ —á—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ).

–¢–∏–ø–∏—á–Ω–∞—è —Å–≤—è–∑–∫–∞: `Arc<Mutex<T>>`.

### Deadlocks (–í–∑–∞–∏–º–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)

Rust –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –Ω–µ –¥–µ–¥–ª–æ–∫–∏. –ï—Å–ª–∏ –≤—ã –≤–æ–∑—å–º–µ—Ç–µ –º—å—é—Ç–µ–∫—Å –ê, –∞ –ø–æ—Ç–æ–º –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –≤–∑—è—Ç—å –º—å—é—Ç–µ–∫—Å –ë, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –≤–∑—è–ª –ë –∏ –∂–¥–µ—Ç –ê... –ù—É, –≤—ã –ø–æ–Ω—è–ª–∏. –í–µ—á–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ.

---

**–ê–Ω–µ–∫–¥–æ—Ç:**

> ‚Äî –¢—É–∫-—Ç—É–∫.  
> ‚Äî –ö—Ç–æ —Ç–∞–º?  
> ‚Äî (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –º–æ–ª—á–∞–Ω–∏–µ...)  
> ‚Äî –≠—Ç–æ –¥–µ–¥–ª–æ–∫?  
> ‚Äî –î–∞, –Ω–æ —è –Ω–µ –º–æ–≥—É –æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å, –ø–æ–∫–∞ —Ç—ã –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—à—å —Å—Ç—É—á–∞—Ç—å.  
> ‚Äî –ê —è –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω—É —Å—Ç—É—á–∞—Ç—å, –ø–æ–∫–∞ —Ç—ã –Ω–µ –æ—Ç–∫—Ä–æ–µ—à—å –¥–≤–µ—Ä—å.
