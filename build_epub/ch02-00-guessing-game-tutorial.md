# –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–µ–º –∏–≥—Ä—É "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ" üé≤

–•–≤–∞—Ç–∏—Ç —Ç–µ–æ—Ä–∏–∏! –î–∞–≤–∞–π—Ç–µ —É–∂–µ –Ω–∞–ø–∏—à–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å –Ω–∞—Å—Ç–æ—è—â–µ–µ.
–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Å–¥–µ–ª–∞–µ–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –∏–≥—Ä—É "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ".
–ö–æ–º–ø—å—é—Ç–µ—Ä –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100, –∞ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –µ–≥–æ —É–≥–∞–¥–∞—Ç—å.

–ü–æ–ø—É—Ç–Ω–æ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å:

- `let`, `match`, –º–µ—Ç–æ–¥–∞–º–∏ –∏ –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.
- –í–Ω–µ—à–Ω–∏–º–∏ –∫—Ä–µ–π—Ç–∞–º–∏ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏).
- –¢–µ–º, –∫–∞–∫ Rust –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞—Å —Å—Ç—Ä–∞–¥–∞—Ç—å (—à—É—Ç–∫–∞, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏).

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```console
$ cargo new guessing_game
$ cd guessing_game
```

–í —Ñ–∞–π–ª–µ `Cargo.toml` –ø–æ–∫–∞ —Å–∫—É—á–Ω–æ. –ù–æ —Å–∫–æ—Ä–æ –º—ã —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–º.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–≥–∞–¥–∫–∏

–í `src/main.rs`:

```rust
use std::io; // –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

fn main() {
    println!("–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ!");

    println!("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—é –¥–æ–≥–∞–¥–∫—É.");

    let mut guess = String::new(); // –°–æ–∑–¥–∞–µ–º –∏–∑–º–µ–Ω—è–µ–º—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

    io::stdin()
        .read_line(&mut guess) // –ß–∏—Ç–∞–µ–º —Å—Ç—Ä–æ–∫—É
        .expect("–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É"); // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É

    println!("–í—ã –∑–∞–≥–∞–¥–∞–ª–∏: {guess}");
}
```

#### –†–∞–∑–±–æ—Ä –º–∞–≥–∏–∏:

1. `use std::io;`: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å `io` –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `std`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Rust –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –º–∞–ª–æ –≤—Å–µ–≥–æ (—ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è _prelude_). –ï—Å–ª–∏ —á–µ–≥–æ-—Ç–æ –Ω–µ—Ç ‚Äî `use` –≤ –ø–æ–º–æ—â—å.
2. `let mut guess`: –í Rust –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã** (immutable). –•–æ—Ç–∏—Ç–µ –º–µ–Ω—è—Ç—å? –ü–∏—à–∏—Ç–µ `mut`.
   - `let apples = 5;` ‚Äî —è–±–ª–æ–∫–∏ –≤–µ—á–Ω—ã.
   - `let mut bananas = 5;` ‚Äî –±–∞–Ω–∞–Ω—ã –º–æ–∂–Ω–æ —Å—ä–µ—Å—Ç—å (–∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ).
3. `String::new()`: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É. `new` ‚Äî —ç—Ç–æ –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö).
4. `read_line(&mut guess)`: –ß–∏—Ç–∞–µ—Ç –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–ª–∞–¥–µ—Ç –µ–≥–æ –≤ –Ω–∞—à—É —Å—Ç—Ä–æ–∫—É. `&mut` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º **–∏–∑–º–µ–Ω—è–µ–º—É—é —Å—Å—ã–ª–∫—É**.
5. `.expect(...)`: `read_line` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Result` (—ç—Ç–æ enum: `Ok` –∏–ª–∏ `Err`). –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è `Err` –∏ –≤—ã –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∏ –µ–≥–æ, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–∞—Å—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. `expect` –≥–æ–≤–æ—Ä–∏—Ç: "–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî –ø–∞–Ω–∏–∫—É–π –∏ –≤—ã–≤–æ–¥–∏ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ".

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ

–ù–∞–º –Ω—É–∂–µ–Ω —Ä–∞–Ω–¥–æ–º. –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –µ–≥–æ –Ω–µ—Ç (Rust –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–µ–Ω). –ù–∞–º –Ω—É–∂–µ–Ω –∫—Ä–µ–π—Ç `rand`.

–í `Cargo.toml`:

```toml
[dependencies]
rand = "0.8.5"
```

–ó–∞–ø—É—Å–∫–∞–µ–º `cargo build`. Cargo —Å–∫–∞—á–∞–µ—Ç `rand` –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –≠—Ç–æ –≤–∞–º –Ω–µ C++ —Å —Ä—É—á–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –±–∏–±–ª–∏–æ—Ç–µ–∫!

–¢–µ–ø–µ—Ä—å –≤ `src/main.rs`:

```rust
use std::io;
use rand::Rng; // –¢—Ä–µ–π—Ç Rng –Ω—É–∂e–Ω, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–∏ –º–µ—Ç–æ–¥—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

fn main() {
    println!("–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ!");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ: {secret_number}"); // –°–ø–æ–π–ª–µ—Ä –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

    // ... —á—Ç–µ–Ω–∏–µ –≤–≤–æ–¥–∞ ...
}
```

`1..=100` ‚Äî —ç—Ç–æ –¥–∏–∞–ø–∞–∑–æ–Ω (Range). `gen_range` –±–µ—Ä–µ—Ç –µ–≥–æ –∏ –≤—ã–¥–∞–µ—Ç —á–∏—Å–ª–æ.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–∏—Å–ª–∞ –∏ –¥–æ–≥–∞–¥–∫–∏

–ù–∞–º –Ω—É–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å `guess` (—Å—Ç—Ä–æ–∫–∞) –∏ `secret_number` (—á–∏—Å–ª–æ).
Rust —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω. –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É —Å —á–∏—Å–ª–æ–º –Ω–µ–ª—å–∑—è. –ù–∞–¥–æ –ø–∞—Ä—Å–∏—Ç—å!

```rust
// Shadowing (–ó–∞—Ç–µ–Ω–µ–Ω–∏–µ): –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é guess, –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—è —Å—Ç–∞—Ä—É—é
let guess: u32 = guess.trim().parse().expect("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!");
```

- `.trim()`: —É–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–±–µ–ª—ã –∏ `\n` (–∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Enter).
- `.parse()`: –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ —á–∏—Å–ª–æ. –ï–º—É –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Ç–∏–ø, –ø–æ—ç—Ç–æ–º—É –º—ã –ø–∏—à–µ–º `: u32`.
- `.expect(...)`: –µ—Å–ª–∏ —é–∑–µ—Ä –≤–≤–µ–ª "–∞–±–≤–≥–¥–µ–π–∫—É", –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø–∞–¥–µ—Ç —Å —ç—Ç–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º.

–¢–µ–ø–µ—Ä—å —Å–∞–º–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:

```rust
use std::cmp::Ordering;

match guess.cmp(&secret_number) {
    Ordering::Less => println!("–°–ª–∏—à–∫–æ–º –º–∞–ª–æ!"),
    Ordering::Greater => println!("–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ!"),
    Ordering::Equal => println!("–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!"),
}
```

`match` ‚Äî —ç—Ç–æ —Å—É–ø–µ—Ä—Å–∏–ª–∞ Rust. –û–Ω –±–µ—Ä–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (`Ordering`) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –ø–æ –≤—Å–µ–º –≤–µ—Ç–∫–∞–º. –ï—Å–ª–∏ –∑–∞–±—ã—Ç—å —Ö–æ—Ç—å –æ–¥–Ω—É –≤–µ—Ç–∫—É (`Equal`, –Ω–∞–ø—Ä–∏–º–µ—Ä), –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —É–¥–∞—Ä–∏—Ç –ø–æ —Ä—É–∫–∞–º.

### –¶–∏–∫–ª

–ò–≥—Ä–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ —Å–∫—É—á–Ω–æ. –î–æ–±–∞–≤–∏–º `loop`.

```rust
loop {
    // ... –∫–æ–¥ –≤–≤–æ–¥–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ ...

    match guess.cmp(&secret_number) {
        Ordering::Less => println!("–°–ª–∏—à–∫–æ–º –º–∞–ª–æ!"),
        Ordering::Greater => println!("–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ!"),
        Ordering::Equal => {
            println!("–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!");
            break; // –í—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
        }
    }
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞

–°–µ–π—á–∞—Å, –µ—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ –Ω–µ —á–∏—Å–ª–æ, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–∞–¥–∞–µ—Ç. –ù–µ –∫—Ä—É—Ç–æ.
–ò—Å–ø—Ä–∞–≤–∏–º `expect` –Ω–∞ `match`:

```rust
let guess: u32 = match guess.trim().parse() {
    Ok(num) => num,
    Err(_) => continue, // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî –∏–¥–µ–º –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é —Ü–∏–∫–ª–∞
};
```

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥–µ—Ç "–∫–æ—Ç", –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç –µ—â–µ —Ä–∞–∑.

### –§–∏–Ω–∞–ª—å–Ω—ã–π —à—Ç—Ä–∏—Ö

–£–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –ø–µ—á–∞—Ç—å—é —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∏—Å–ª–∞. –ò–Ω–∞—á–µ —ç—Ç–æ –Ω–µ –∏–≥—Ä–∞, –∞ —Ç–µ—Å—Ç –Ω–∞ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---

**–ê–Ω–µ–∫–¥–æ—Ç:**

> –ó–∞—Ö–æ–¥—è—Ç –∫–∞–∫-—Ç–æ –≤ –±–∞—Ä `u32`, `i32` –∏ `f64`.
> –ë–∞—Ä–º–µ–Ω —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ `f64` –∏ –≥–æ–≤–æ—Ä–∏—Ç:  
> ‚Äî –ò–∑–≤–∏–Ω–∏—Ç–µ, –º—ã –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–µ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, —É –Ω–∞—Å —Ç—É—Ç —Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã.
> `f64` –æ–±–∏–¥–µ–ª—Å—è –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ `NaN`.
> –ë–∞—Ä–º–µ–Ω –≤ –ø–∞–Ω–∏–∫–µ: "–ù—É –≤–æ—Ç, —Ç–µ–ø–µ—Ä—å –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ —Å—Ä–∞–≤–Ω–∏—Ç—å –Ω–µ–ª—å–∑—è!"
