## –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å: Async Edition üöÖ

–í –≥–ª–∞–≤–µ 16 –º—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏ –ø–æ—Ç–æ–∫–∏. –ó–¥–µ—Å—å –º—ã –±—É–¥–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ (tasks).

### `spawn_task` vs `thread::spawn`

- `thread::spawn`: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫ –û–°. –î–æ—Ä–æ–≥–æ, –º–æ—â–Ω–æ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.
- `spawn_task` (–≤ Tokio —ç—Ç–æ `tokio::spawn`): –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –Ω–∞ —Ç–æ–º –∂–µ (–∏–ª–∏ –¥—Ä—É–≥–æ–º) –ø–æ—Ç–æ–∫–µ. –î–µ—à–µ–≤–æ, –±—ã—Å—Ç—Ä–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

### –ö–∞–Ω–∞–ª—ã (Message Passing)

async-–∫–∞–Ω–∞–ª—ã –ø–æ—Ö–æ–∂–∏ –Ω–∞ –æ–±—ã—á–Ω—ã–µ (`mpsc`), —Ç–æ–ª—å–∫–æ `recv()` —É –Ω–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (`.await`). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ–∫–∞ –º—ã –∂–¥–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ—Ç–æ–∫ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –µ—â–µ.

### –ú–∞–≥–∏—è `join!`

–ï—Å–ª–∏ –≤—ã –Ω–∞–ø–∏—à–µ—Ç–µ:
```rust
async_fn_1().await;
async_fn_2().await;
```
–û–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è *–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ*. –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–≤–∞—è, –ø–æ—Ç–æ–º –≤—Ç–æ—Ä–∞—è.
–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Ö *–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ*, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `join!`:

```rust
tokio::join!(
    async_fn_1(),
    async_fn_2()
);
```

–¢–µ–ø–µ—Ä—å –æ–Ω–∏ –±–µ–≥—É—Ç –Ω–∞–ø–µ—Ä–µ–≥–æ–Ω–∫–∏ (–∏–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –ø–æ—Ç–æ–∫–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ).

---

**–ê–Ω–µ–∫–¥–æ—Ç:**

> ‚Äî –¢—É–∫-—Ç—É–∫.  
> ‚Äî –ö—Ç–æ —Ç–∞–º?  
> ‚Äî (–ú–æ–ª—á–∞–Ω–∏–µ...)  
> ‚Äî –ö—Ç–æ —Ç–∞–º, —á–µ—Ä—Ç –≤–æ–∑—å–º–∏?!  
> ‚Äî (–ú–æ–ª—á–∞–Ω–∏–µ...)  
> ‚Äî –≠—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞?  
> ‚Äî –î–∞! –ò–∑–≤–∏–Ω–∏, —è –∂–¥–∞–ª–∞, –ø–æ–∫–∞ `join!` –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è, —á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç–∏—Ç—å.
