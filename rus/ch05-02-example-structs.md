# Пример программы со структурами

Чтобы понять, зачем нужны структуры, давайте напишем программу для расчета площади прямоугольника.

Сначала с переменными:
```rust
fn area(width: u32, height: u32) -> u32 { ... }
```
Минус: `width` и `height` не связаны. Легко перепутать аргументы.

Потом с кортежами:
```rust
fn area(dimensions: (u32, u32)) -> u32 { ... }
```
Минус: `dimensions.0` и `dimensions.1`. Кто из них ширина? Непонятно.

И наконец, со структурой:
```rust
struct Rectangle {
    width: u32,
    height: u32,
}

fn area(rectangle: &Rectangle) -> u32 {
    rectangle.width * rectangle.height
}
```
Теперь все четко. Мы передаем `&Rectangle` (ссылку), чтобы не терять владение.

### Трейт `Debug`

Мы хотим распечатать наш прямоугольник: `println!("{}", rect1);`.
Ошибка! Rust не знает, как "красиво" напечатать нашу структуру.

Но мы можем попросить его сделать "техническую" печать.:

1. Добавляем `#[derive(Debug)]` перед структурой.
2. Используем `{:?}` (или `{:#?}` для красоты) в `println!`.

```rust
#[derive(Debug)]
struct Rectangle { ... }

println!("rect1 is {:#?}", rect1);
```

Еще есть макрос `dbg!(&rect1)`, который печатает в stderr с номером строки кода. Очень удобно для быстрой отладки.

---

**Анекдот:**

> — Почему программисты на Rust не любят сюрпризы?  
> — Потому что `#[derive(Debug)]` должен быть явным. Никакой магии, только то, что заказали.
