# Модули: контроль области видимости и приватности

Модули позволяют:

1.  Группировать код по смыслу.
2.  Прятать детали реализации (инкапсуляция).

### Шпаргалка по модулям

1.  **Корень крейта:** `src/main.rs` или `src/lib.rs`.
2.  **Объявление:** `mod garden;` ищет код в:
    *   Внутри `{ ... }` сразу после объявления.
    *   В файле `src/garden.rs`.
    *   В файле `src/garden/mod.rs` (старый стиль).
3.  **Путь:** `crate::garden::vegetables::Asparagus`.
4.  **Приватность:** По умолчанию все **приватно**. Хотите открыть? Пишите `pub`.
5.  **Use:** `use crate::garden::vegetables::Asparagus` создает короткое имя.

### Ресторанная аналогия

Давайте напишем библиотеку для ресторана.

```rust
mod front_of_house {
    pub mod hosting {
        pub fn add_to_waitlist() {}
    }

    mod serving {
        fn take_order() {}
    }
}
```

- `front_of_house` — модуль. Внутри него другие модули.
- По умолчанию модуль приватен для родителя.
- Чтобы функция `eat_at_restaurant` (которая снаружи) могла вызвать `add_to_waitlist`, и модуль `hosting`, и функция `add_to_waitlist` должны быть `pub`.

Дерево модулей очень похоже на файловую систему. И это не случайно.

---

**Анекдот:**

> — Официант, почему в моем супе муха?  
> — Это private implementation detail, сэр. Вы не должны были этого видеть. Данный API не является публичным. Пожалуйста, используйте метод `eat_soup()`, который отфильтрует исключения... то есть мух.
